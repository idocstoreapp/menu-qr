---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="description" content="Menú Digital - Gourmet Árabe" />
    <title>{title} | Gourmet Árabe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  </head>
  <body class="min-h-screen" style="background-image: url('/fondo.png'); background-size: cover; background-position: center; background-repeat: no-repeat; background-attachment: fixed;">
    <slot />
  </body>
</html>

<style is:global>
  html {
    font-family: 'Playfair Display', serif;
    scroll-behavior: smooth;
  }

  /* ============================================
     BORDES DORADOS FINOS CON EFECTO DE BRILLO
     ============================================ */

  /* Borde dorado fino elegante (sin efecto de brillo) */
  .border-gold-elegant {
    border: 1px solid rgba(212, 175, 55, 0.6);
    position: relative;
    box-shadow: 
      0 0 10px rgba(212, 175, 55, 0.2),
      inset 0 0 10px rgba(212, 175, 55, 0.1);
  }

  /* Hover: intensificar el borde */
  .border-gold-elegant:hover {
    border-color: rgba(212, 175, 55, 0.9);
    box-shadow: 
      0 0 20px rgba(212, 175, 55, 0.4),
      inset 0 0 15px rgba(212, 175, 55, 0.2);
  }

  /* ============================================
     ANIMACIONES DE ZOOM Y REFLEJO EN IMÁGENES
     ============================================ */

  /* Contenedor de imagen con zoom y reflejo sincronizados */
  .menu-image-container {
    position: relative;
    overflow: hidden;
  }

  .menu-image-container img {
    will-change: transform;
  }

  /* Animación completa: flash a mitad → zoom cercano → movimiento ULTRA FLUIDO tipo cámara lenta → flash sincronizado → normal */
  @keyframes imageSequence {
    /* 0-10%: Imagen normal */
    0%, 10% {
      transform: scale(1) translateX(0);
    }
    /* 10%: Flash a mitad del viewport (50%) → zoom instantáneo y cercano AL MISMO TIEMPO */
    10.1%, 12% {
      transform: scale(1.6) translateX(0);
    }
    /* 12-96%: Movimiento ULTRA FLUIDO sin pausas - fotogramas cada 0.5% para máxima fluidez */
    12% {
      transform: scale(1.6) translateX(0);
    }
    12.5% {
      transform: scale(1.6) translateX(-0.5%);
    }
    13% {
      transform: scale(1.6) translateX(-1%);
    }
    13.5% {
      transform: scale(1.6) translateX(-1.5%);
    }
    14% {
      transform: scale(1.6) translateX(-2%);
    }
    14.5% {
      transform: scale(1.6) translateX(-2.5%);
    }
    15% {
      transform: scale(1.6) translateX(-3%);
    }
    15.5% {
      transform: scale(1.6) translateX(-3.5%);
    }
    16% {
      transform: scale(1.6) translateX(-4%);
    }
    16.5% {
      transform: scale(1.6) translateX(-4.5%);
    }
    17% {
      transform: scale(1.6) translateX(-5%);
    }
    17.5% {
      transform: scale(1.6) translateX(-5.5%);
    }
    18% {
      transform: scale(1.6) translateX(-6%);
    }
    18.5% {
      transform: scale(1.6) translateX(-6.5%);
    }
    19% {
      transform: scale(1.6) translateX(-7%);
    }
    19.5% {
      transform: scale(1.6) translateX(-7.5%);
    }
    20% {
      transform: scale(1.6) translateX(-8%);
    }
    20.5% {
      transform: scale(1.6) translateX(-8.5%);
    }
    21% {
      transform: scale(1.6) translateX(-9%);
    }
    21.5% {
      transform: scale(1.6) translateX(-9.5%);
    }
    22% {
      transform: scale(1.6) translateX(-10%);
    }
    22.5% {
      transform: scale(1.6) translateX(-9.8%);
    }
    23% {
      transform: scale(1.6) translateX(-9.5%);
    }
    23.5% {
      transform: scale(1.6) translateX(-9%);
    }
    24% {
      transform: scale(1.6) translateX(-8.5%);
    }
    24.5% {
      transform: scale(1.6) translateX(-8%);
    }
    25% {
      transform: scale(1.6) translateX(-7.5%);
    }
    25.5% {
      transform: scale(1.6) translateX(-7%);
    }
    26% {
      transform: scale(1.6) translateX(-6.5%);
    }
    26.5% {
      transform: scale(1.6) translateX(-6%);
    }
    27% {
      transform: scale(1.6) translateX(-5.5%);
    }
    27.5% {
      transform: scale(1.6) translateX(-5%);
    }
    28% {
      transform: scale(1.6) translateX(-4.5%);
    }
    28.5% {
      transform: scale(1.6) translateX(-4%);
    }
    29% {
      transform: scale(1.6) translateX(-3.5%);
    }
    29.5% {
      transform: scale(1.6) translateX(-3%);
    }
    30% {
      transform: scale(1.6) translateX(-2.5%);
    }
    30.5% {
      transform: scale(1.6) translateX(-2%);
    }
    31% {
      transform: scale(1.6) translateX(-1.5%);
    }
    31.5% {
      transform: scale(1.6) translateX(-1%);
    }
    32% {
      transform: scale(1.6) translateX(-0.5%);
    }
    32.5% {
      transform: scale(1.6) translateX(0);
    }
    33% {
      transform: scale(1.6) translateX(0.5%);
    }
    33.5% {
      transform: scale(1.6) translateX(1%);
    }
    34% {
      transform: scale(1.6) translateX(1.5%);
    }
    34.5% {
      transform: scale(1.6) translateX(2%);
    }
    35% {
      transform: scale(1.6) translateX(2.5%);
    }
    35.5% {
      transform: scale(1.6) translateX(3%);
    }
    36% {
      transform: scale(1.6) translateX(3.5%);
    }
    36.5% {
      transform: scale(1.6) translateX(4%);
    }
    37% {
      transform: scale(1.6) translateX(4.5%);
    }
    37.5% {
      transform: scale(1.6) translateX(5%);
    }
    38% {
      transform: scale(1.6) translateX(5.5%);
    }
    38.5% {
      transform: scale(1.6) translateX(6%);
    }
    39% {
      transform: scale(1.6) translateX(6.5%);
    }
    39.5% {
      transform: scale(1.6) translateX(7%);
    }
    40% {
      transform: scale(1.6) translateX(7.5%);
    }
    40.5% {
      transform: scale(1.6) translateX(8%);
    }
    41% {
      transform: scale(1.6) translateX(8.5%);
    }
    41.5% {
      transform: scale(1.6) translateX(9%);
    }
    42% {
      transform: scale(1.6) translateX(9.5%);
    }
    42.5% {
      transform: scale(1.6) translateX(10%);
    }
    43% {
      transform: scale(1.6) translateX(9.8%);
    }
    43.5% {
      transform: scale(1.6) translateX(9.5%);
    }
    44% {
      transform: scale(1.6) translateX(9%);
    }
    44.5% {
      transform: scale(1.6) translateX(8.5%);
    }
    45% {
      transform: scale(1.6) translateX(8%);
    }
    45.5% {
      transform: scale(1.6) translateX(7.5%);
    }
    46% {
      transform: scale(1.6) translateX(7%);
    }
    46.5% {
      transform: scale(1.6) translateX(6.5%);
    }
    47% {
      transform: scale(1.6) translateX(6%);
    }
    47.5% {
      transform: scale(1.6) translateX(5.5%);
    }
    48% {
      transform: scale(1.6) translateX(5%);
    }
    48.5% {
      transform: scale(1.6) translateX(4.5%);
    }
    49% {
      transform: scale(1.6) translateX(4%);
    }
    49.5% {
      transform: scale(1.6) translateX(3.5%);
    }
    50% {
      transform: scale(1.6) translateX(3%);
    }
    50.5% {
      transform: scale(1.6) translateX(2.5%);
    }
    51% {
      transform: scale(1.6) translateX(2%);
    }
    51.5% {
      transform: scale(1.6) translateX(1.5%);
    }
    52% {
      transform: scale(1.6) translateX(1%);
    }
    52.5% {
      transform: scale(1.6) translateX(0.5%);
    }
    53% {
      transform: scale(1.6) translateX(0);
    }
    54%, 96% {
      transform: scale(1.6) translateX(0);
    }
    97% {
      transform: scale(1.6) translateX(0);
    }
    98% {
      transform: scale(1.6) translateX(0);
    }
    99% {
      transform: scale(1.6) translateX(0);
    }
    /* 99%: Flash sincronizado → vuelve a normal AL MISMO TIEMPO */
    99.1%, 100% {
      transform: scale(1) translateX(0);
    }
  }

  /* Variaciones de delay EXTREMADAMENTE aleatorias - algunos al cargar, otros después, otros mucho después */
  .menu-image-container:nth-child(1) img {
    animation-delay: 0s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(2) img {
    animation-delay: 8.7s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(3) img {
    animation-delay: 2.3s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(4) img {
    animation-delay: 9.4s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(5) img {
    animation-delay: 0.4s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(6) img {
    animation-delay: 7.1s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(7) img {
    animation-delay: 3.8s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(8) img {
    animation-delay: 10.2s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(9) img {
    animation-delay: 1.6s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(10) img {
    animation-delay: 6.5s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(11) img {
    animation-delay: 4.9s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(12) img {
    animation-delay: 11.3s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(13) img {
    animation-delay: 0.8s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(14) img {
    animation-delay: 5.7s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(15) img {
    animation-delay: 9.8s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(16) img {
    animation-delay: 2.1s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(17) img {
    animation-delay: 7.9s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(18) img {
    animation-delay: 1.2s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(19) img {
    animation-delay: 8.3s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(20) img {
    animation-delay: 3.5s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(21) img {
    animation-delay: 10.6s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(22) img {
    animation-delay: 0.6s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(23) img {
    animation-delay: 6.2s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(24) img {
    animation-delay: 4.4s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(25) img {
    animation-delay: 9.1s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(26) img {
    animation-delay: 2.7s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(27) img {
    animation-delay: 7.4s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(28) img {
    animation-delay: 1.9s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(29) img {
    animation-delay: 8.9s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(30) img {
    animation-delay: 5.3s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(31) img {
    animation-delay: 0.1s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(32) img {
    animation-delay: 10.8s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(33) img {
    animation-delay: 3.2s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(34) img {
    animation-delay: 7.6s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(35) img {
    animation-delay: 1.4s;
    animation-duration: 14s;
  }
  /* Para más de 35 items, usar múltiples patrones modulares completamente diferentes */
  .menu-image-container:nth-child(5n+36) img {
    animation-delay: calc((var(--index, 0) * 0.47 + 0.3) * 1s);
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(5n+37) img {
    animation-delay: calc((var(--index, 0) * 0.61 + 2.1) * 1s);
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(5n+38) img {
    animation-delay: calc((var(--index, 0) * 0.39 + 4.7) * 1s);
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(5n+39) img {
    animation-delay: calc((var(--index, 0) * 0.53 + 6.9) * 1s);
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(5n+40) img {
    animation-delay: calc((var(--index, 0) * 0.43 + 8.2) * 1s);
    animation-duration: 12s;
  }

  /* Delays aleatorios también para el flash (mismos valores que las imágenes) */
  .menu-image-container:nth-child(1)::after {
    animation-delay: 0s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(2)::after {
    animation-delay: 8.7s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(3)::after {
    animation-delay: 2.3s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(4)::after {
    animation-delay: 9.4s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(5)::after {
    animation-delay: 0.4s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(6)::after {
    animation-delay: 7.1s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(7)::after {
    animation-delay: 3.8s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(8)::after {
    animation-delay: 10.2s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(9)::after {
    animation-delay: 1.6s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(10)::after {
    animation-delay: 6.5s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(11)::after {
    animation-delay: 4.9s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(12)::after {
    animation-delay: 11.3s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(13)::after {
    animation-delay: 0.8s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(14)::after {
    animation-delay: 5.7s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(15)::after {
    animation-delay: 9.8s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(16)::after {
    animation-delay: 2.1s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(17)::after {
    animation-delay: 7.9s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(18)::after {
    animation-delay: 1.2s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(19)::after {
    animation-delay: 8.3s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(20)::after {
    animation-delay: 3.5s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(21)::after {
    animation-delay: 10.6s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(22)::after {
    animation-delay: 0.6s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(23)::after {
    animation-delay: 6.2s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(24)::after {
    animation-delay: 4.4s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(25)::after {
    animation-delay: 9.1s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(26)::after {
    animation-delay: 2.7s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(27)::after {
    animation-delay: 7.4s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(28)::after {
    animation-delay: 1.9s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(29)::after {
    animation-delay: 8.9s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(30)::after {
    animation-delay: 5.3s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(31)::after {
    animation-delay: 0.1s;
    animation-duration: 14s;
  }
  .menu-image-container:nth-child(32)::after {
    animation-delay: 10.8s;
    animation-duration: 12s;
  }
  .menu-image-container:nth-child(33)::after {
    animation-delay: 3.2s;
    animation-duration: 15s;
  }
  .menu-image-container:nth-child(34)::after {
    animation-delay: 7.6s;
    animation-duration: 13s;
  }
  .menu-image-container:nth-child(35)::after {
    animation-delay: 1.4s;
    animation-duration: 14s;
  }

  /* Efecto de flash diagonal más intenso */
  .menu-image-container::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      135deg,
      transparent 0%,
      transparent 25%,
      rgba(255, 255, 255, 0.6) 42%,
      rgba(255, 255, 255, 0.9) 48%,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0.9) 52%,
      rgba(255, 255, 255, 0.6) 58%,
      transparent 75%,
      transparent 100%
    );
    animation: flashReflection 12s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
    transform: rotate(-45deg);
    transform-origin: center center;
    /* Ocultar inicialmente hasta que la animación comience */
    opacity: 0;
    left: -200%;
    top: -200%;
  }

  @keyframes flashReflection {
    /* 0-9%: Sin flash, fuera del viewport */
    0%, 9% {
      left: -200%;
      top: -200%;
      opacity: 0;
    }
    /* 9-10%: Flash rápido cruza hasta llegar al 50% del viewport (mitad) - SINCRONIZADO con zoom a 1.6x */
    9% {
      left: -200%;
      top: -200%;
      opacity: 0;
    }
    9.5% {
      left: -150%;
      top: -150%;
      opacity: 0.6;
    }
    10% {
      /* Flash al 50% del viewport (mitad) - EXACTAMENTE cuando cambia el zoom a 1.6x */
      left: -50%;
      top: -50%;
      opacity: 1;
    }
    10.5% {
      left: 50%;
      top: 50%;
      opacity: 0.6;
    }
    11%, 98% {
      /* Flash sale rápidamente del viewport */
      left: 200%;
      top: 200%;
      opacity: 0;
    }
    /* 98-99%: Flash cruza de nuevo - SINCRONIZADO con cambio a tamaño normal */
    98% {
      left: -200%;
      top: -200%;
      opacity: 0;
    }
    98.5% {
      left: -150%;
      top: -150%;
      opacity: 0.6;
    }
    99% {
      /* Flash al 50% del viewport (mitad) - EXACTAMENTE cuando vuelve a tamaño normal */
      left: -50%;
      top: -50%;
      opacity: 1;
    }
    99.5% {
      left: 50%;
      top: 50%;
      opacity: 0.6;
    }
    99.9%, 100% {
      left: 200%;
      top: 200%;
      opacity: 0;
    }
  }

  /* Aplicar secuencia completa a la imagen con transiciones ULTRA SUAVES */
  .menu-image-container img,
  .menu-image-container video {
    animation: imageSequence 12s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  }
</style>

<script is:inline>
  // Asignar delays aleatorios a cada card para desincronizar animaciones
  function assignRandomDelays() {
    const containers = document.querySelectorAll('.menu-image-container:not([data-delay-assigned])');
    
    containers.forEach((container) => {
      // Marcar como procesado para evitar procesarlo múltiples veces
      container.setAttribute('data-delay-assigned', 'true');
      
      // Generar delay aleatorio entre 0 y 12 segundos
      const randomDelay = Math.random() * 12;
      // Duración aleatoria entre 12 y 15 segundos
      const randomDuration = 12 + Math.random() * 3;
      
      // Aplicar a la imagen o video
      const media = container.querySelector('img, video');
      if (media) {
        media.style.animationDelay = randomDelay + 's';
        media.style.animationDuration = randomDuration + 's';
      }
      
      // Ocultar el ::after original si existe
      const style = document.createElement('style');
      style.textContent = `
        .menu-image-container[data-delay-assigned]::after {
          display: none !important;
        }
      `;
      if (!document.head.querySelector('style[data-flash-override]')) {
        style.setAttribute('data-flash-override', 'true');
        document.head.appendChild(style);
      }
      
      // Crear elemento flash real si no existe - DEBE TENER EXACTAMENTE EL MISMO DELAY Y DURACIÓN
      let flashElement = container.querySelector('.flash-overlay');
      if (!flashElement) {
        flashElement = document.createElement('div');
        flashElement.className = 'flash-overlay';
        flashElement.style.cssText = `
          position: absolute;
          top: -50%;
          left: -200%;
          width: 200%;
          height: 200%;
          pointer-events: none;
          z-index: 10;
          background: linear-gradient(135deg, transparent 0%, transparent 25%, rgba(255, 255, 255, 0.6) 42%, rgba(255, 255, 255, 0.9) 48%, rgba(255, 255, 255, 1) 50%, rgba(255, 255, 255, 0.9) 52%, rgba(255, 255, 255, 0.6) 58%, transparent 75%, transparent 100%);
          transform: rotate(-45deg);
          transform-origin: center center;
          animation: flashReflection ${randomDuration}s ease-in-out infinite;
          animation-delay: ${randomDelay}s;
          opacity: 0;
        `;
        container.appendChild(flashElement);
      } else {
        // Si ya existe, actualizar con los mismos valores
        flashElement.style.animationDelay = randomDelay + 's';
        flashElement.style.animationDuration = randomDuration + 's';
        flashElement.style.animation = 'flashReflection ' + randomDuration + 's ease-in-out infinite';
        // Asegurar que esté oculto inicialmente
        flashElement.style.opacity = '0';
        flashElement.style.left = '-200%';
        flashElement.style.top = '-200%';
      }
    });
  }
  
  // Ejecutar cuando el DOM esté listo
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', assignRandomDelays);
  } else {
    assignRandomDelays();
  }
  
  // También ejecutar después de delays para capturar elementos cargados dinámicamente
  setTimeout(assignRandomDelays, 100);
  setTimeout(assignRandomDelays, 500);
  setTimeout(assignRandomDelays, 1000);
  setTimeout(assignRandomDelays, 2000);
  
  // Observar cambios en el DOM para elementos que se carguen después
  const observer = new MutationObserver(() => {
    assignRandomDelays();
  });
  
  observer.observe(document.body, {
    childList: true,
    subtree: true
  });
</script>



